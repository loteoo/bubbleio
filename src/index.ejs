<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Test hyperapp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="css/style.css">

  </head>
  <body>
    <main>

    </main>

    <!-- TODO: use slim socket io -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/main.min.js"></script>

    <script>
      <% if (typeof(state) !== 'undefined') { %>
        main.updateState(JSON.parse('<%- state %>'));
      <% } %>
      <% if (typeof(joinRoom) !== 'undefined') { %>
        socket.emit('switch room', {
          prevRoom: null,
          nextRoom: '<%- joinRoom %>'
        });
      <% } %>
    </script>
  </body>
</html>
